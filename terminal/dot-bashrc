# Load common commands first
source ~/.common_commands

# Homebrew (macOS-specific)
if [[ "$OSTYPE" == "darwin"* ]]; then
    # Try both Homebrew locations (Intel and Apple Silicon)
    if [ -f /opt/homebrew/bin/brew ]; then
        eval "$(/opt/homebrew/bin/brew shellenv)"
    elif [ -f /usr/local/bin/brew ]; then
        eval "$(/usr/local/bin/brew shellenv)"
    fi
fi

# Prompt (Starship)
if command -v starship >/dev/null 2>&1; then
    eval "$(starship init bash)"
fi

# Bash-specific history settings
HISTSIZE=10000
HISTFILESIZE=20000
HISTCONTROL=ignoredups:erasedups
shopt -s histappend

# Bash-specific completion
if [ -f /etc/bash_completion ]; then
    . /etc/bash_completion
fi

# Bash-specific aliases
alias reload="source ~/.bashrc"

# Load local overrides
[[ -f ~/.bashrc.local ]] && source ~/.bashrc.local